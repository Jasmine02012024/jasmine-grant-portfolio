/*
  ============================================================
  FILE: styles.css

  GOAL:
    Make it feel like a physical desk + physical folder + physical paper.
    Page transitions should FEEL like a real page turning (not sliding panels).
    Tabs should live on left and right (prev/next) and update as pages flip.

  COLOR PLAN (real agency + your purple):
    - Desk: dark textured wood/crumbled surface
    - Folder: manilla / aged beige
    - Paper: cream
    - Tabs: mix of muted colors (red/blue/purple/olive/gray)
    - Stamps: green “verified” + red “approved seal”
    - Purple: accent only (glow/focus/badges)
  ============================================================
*/

:root{
  --desk1:#1b1b22;
  --desk2:#111116;

  --folder:#d7bb82;
  --folderDeep:#b89556;
  --paper:#f7eedb;
  --paperDeep:#e9dcc1;

  --ink:#101014;
  --inkSoft:#2a2a34;

  --purple:#7c3aed;
  --purpleSoft:#a78bfa;

  --red:#d61f2c;
  --green:#16a34a;
  --blue:#2563eb;
  --olive:#4d7c0f;

  --mono:"JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  --sans:"Saira Condensed", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --sig:"Allura", cursive;

  --shadow:0 30px 90px rgba(0,0,0,.45);
  --paperShadow:0 18px 60px rgba(0,0,0,.25);
}

*{ box-sizing:border-box; }
body{
  margin:0;
  min-height:100vh;
  font-family:var(--sans);
  color:var(--ink);
  overflow-x:hidden;
}
.mono{ font-family:var(--mono); }
.sig{ font-family:var(--sig); font-size:42px; line-height:1; }
.hidden{ display:none !important; }

/* screen-reader only label helper */
.sr-only{
  position:absolute;
  width:1px;height:1px;
  padding:0;margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  white-space:nowrap;
  border:0;
}

/* ============================================================
  LOCK SCREEN
============================================================ */
.lock-screen{
  position:fixed; inset:0;
  z-index:9999;
  display:grid;
  place-items:center;
  background: radial-gradient(circle at 50% 20%, rgba(255,255,255,.05), rgba(0,0,0,.86));
}
.lock-fx-scanlines{
  position:absolute; inset:0;
  background:repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,.06),
    rgba(255,255,255,.06) 1px,
    transparent 4px,
    transparent 9px
  );
  opacity:.35;
  animation: scanMove 900ms linear infinite;
}
@keyframes scanMove{
  from{ transform:translateY(-20px); }
  to{ transform:translateY(20px); }
}
.lock-fx-noise{
  position:absolute; inset:-40px;
  background-image: radial-gradient(rgba(255,255,255,.08) 1px, transparent 1px);
  background-size:4px 4px;
  opacity:.10;
  transform: rotate(2deg);
}
.lock-center{
  width:min(720px, 92vw);
  padding:24px 18px;
  text-align:center;
  position:relative;
}
.lock-seal{
  width:240px;height:240px;
  margin:0 auto 14px;
  border-radius:50%;
  background:rgba(255,255,255,.03);
  border:1px solid rgba(255,255,255,.16);
  box-shadow:0 20px 80px rgba(0,0,0,.55);
  display:grid;
  place-items:center;
  position:relative;
  overflow:hidden;
}
.seal-ring{
  position:absolute; inset:16px;
  border-radius:50%;
  border:3px dashed rgba(167,139,250,.28);
}
.seal-top,.seal-bot{
  font-size:11px;
  letter-spacing:.16em;
  text-transform:uppercase;
  color:rgba(255,255,255,.75);
}
.seal-mid{
  color:rgba(255,255,255,.92);
  margin:6px 0;
}
.lock-terminal{
  color:rgba(255,255,255,.72);
  letter-spacing:.10em;
  font-size:12px;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:10px;
  margin-bottom:14px;
}
.lock-terminal .dot{
  width:10px;height:10px;border-radius:50%;
  background:radial-gradient(circle, rgba(124,58,237,.95), rgba(124,58,237,.15));
  box-shadow:0 0 22px rgba(124,58,237,.25);
}
.lock-controls{
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
}
.lock-input{
  width:min(300px, 78vw);
  border-radius:16px;
  padding:14px 14px;
  border:1px solid rgba(255,255,255,.20);
  background:rgba(0,0,0,.35);
  color:rgba(255,255,255,.92);
  text-align:center;
  letter-spacing:.32em;
}
.lock-meta{
  margin-top:10px;
  color:rgba(255,255,255,.75);
  letter-spacing:.10em;
}
.lock-msg{
  margin-top:10px;
  min-height:18px;
  color:rgba(255,255,255,.90);
}
.lock-hint{
  margin-top:10px;
  color:rgba(255,255,255,.68);
  letter-spacing:.06em;
  font-size:11px;
}

/* Buttons */
.btn{
  font-family:var(--mono);
  font-size:12px;
  letter-spacing:.08em;
  padding:12px 14px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.06);
  color:rgba(255,255,255,.92);
  cursor:pointer;
  transition: transform .18s ease, background .18s ease;
}
.btn:hover{ transform:translateY(-1px); background:rgba(255,255,255,.10); }
.btn.primary{
  border-color:rgba(167,139,250,.55);
  background:linear-gradient(135deg, rgba(124,58,237,.22), rgba(255,255,255,.06));
}
.btn.ghost{
  margin-top:12px;
  background:transparent;
}

/* Seal break overlay (cinematic) */
.seal-break{
  position:absolute; inset:0;
  display:grid;
  place-items:center;
  background:rgba(0,0,0,.65);
  backdrop-filter: blur(10px);
}
.seal-break-text{
  color:rgba(255,255,255,.95);
  letter-spacing:.20em;
  font-weight:800;
}
.seal-break-sub{
  margin-top:8px;
  color:rgba(255,255,255,.75);
  letter-spacing:.14em;
}

/* ============================================================
  DESK SCENE
============================================================ */
.desk{
  min-height:100vh;
  background:
    radial-gradient(circle at 20% 10%, rgba(255,255,255,.08), transparent 45%),
    radial-gradient(circle at 80% 30%, rgba(124,58,237,.10), transparent 50%),
    linear-gradient(180deg, var(--desk1), var(--desk2));
  position:relative;
}

/* HUD */
.hud{
  position:sticky; top:0;
  z-index:50;
  padding:16px 5vw;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:14px;
  background:rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
  border-bottom:1px solid rgba(255,255,255,.08);
}
.hud-left{ display:flex; gap:12px; align-items:center; }
.hud-title{
  color:rgba(255,255,255,.92);
  letter-spacing:.18em;
  font-size:12px;
  font-weight:800;
}
.hud-sub{
  color:rgba(255,255,255,.62);
  margin-top:2px;
  letter-spacing:.08em;
  font-size:11px;
}
.live-dot{
  width:14px;height:14px;border-radius:50%;
  background:rgba(255,255,255,.18);
}
.live-dot.live{
  background:radial-gradient(circle, rgba(214,31,44,.95), rgba(214,31,44,.22));
  box-shadow:0 0 20px rgba(214,31,44,.35);
}

/* TOC + chips */
.hud-right{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
.toc{
  font-family:var(--mono);
  font-size:12px;
  letter-spacing:.06em;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(0,0,0,.25);
  color:rgba(255,255,255,.92);
}
.chip{
  font-family:var(--mono);
  font-size:12px;
  letter-spacing:.06em;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(255,255,255,.06);
  color:rgba(255,255,255,.92);
  cursor:pointer;
  transition: transform .18s ease;
}
.chip:hover{ transform:translateY(-1px); }

/* Stage */
.stage{
  display:grid;
  place-items:center;
  padding:26px 16px 80px;
}

/* Folder wrapper: used for “arrive on desk” animation */
.folder-wrap{
  width:min(1180px, 96vw);
  transform: translateY(40px);
  opacity:0;
  animation: folderArrive 700ms ease forwards;
}
@keyframes folderArrive{
  to{ transform: translateY(0); opacity:1; }
}

/* Folder (manilla) */
.folder{
  border-radius:22px;
  background:
    radial-gradient(circle at 10% 10%, rgba(255,255,255,.25), transparent 50%),
    linear-gradient(180deg, var(--folder), var(--folderDeep));
  border:1px solid rgba(0,0,0,.22);
  box-shadow:var(--shadow);
  position:relative;
  overflow:hidden;
}

/* Cover overlay (confidential sheet on top) */
.cover-overlay{
  position:absolute; inset:0;
  z-index:10;
  display:grid;
  place-items:center;
  background:rgba(0,0,0,.10);
  backdrop-filter: blur(1px);
}
.overlay-paper{
  width:min(760px, 90vw);
  padding:18px;
  border-radius:20px;
  background:linear-gradient(180deg, var(--paper), var(--paperDeep));
  border:1px solid rgba(0,0,0,.14);
  box-shadow:0 20px 80px rgba(0,0,0,.25);
  text-align:center;
}
.overlay-title{
  letter-spacing:.18em;
  font-weight:800;
}
.overlay-actions{
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
  margin-top:14px;
}
.overlay-note{
  margin-top:12px;
  opacity:.70;
  font-size:12px;
}

/* Big red seal (approval) */
.seal-big{
  width:150px;height:150px;
  border-radius:50%;
  margin:14px auto 0;
  position:relative;
  background:rgba(214,31,44,.10);
  border:2px solid rgba(214,31,44,.55);
  box-shadow:0 16px 40px rgba(214,31,44,.12);
  display:grid;
  place-items:center;
}
.seal-big-ring{
  position:absolute; inset:12px;
  border-radius:50%;
  border:3px dashed rgba(214,31,44,.55);
}
.seal-big-text{
  color:rgba(214,31,44,.95);
  font-weight:900;
  letter-spacing:.22em;
}

/* Green stamp */
.stamp-green{
  display:inline-block;
  margin-top:10px;
  padding:8px 12px;
  border-radius:999px;
  border:2px solid rgba(22,163,74,.45);
  background:rgba(22,163,74,.10);
  color:rgba(22,163,74,.95);
  letter-spacing:.14em;
  font-weight:800;
}

/* Folder label */
.folder-label{
  padding:18px 18px 10px;
}
.folder-line1{
  letter-spacing:.22em;
  font-weight:900;
  font-size:12px;
}
.folder-line2{
  margin-top:8px;
  letter-spacing:.08em;
  color:rgba(16,16,20,.80);
}
.folder-line3{
  margin-top:10px;
  letter-spacing:.06em;
  opacity:.75;
  font-size:12px;
}

/* Glitch codename (always glitching like you asked) */
.codename{
  display:inline-block;
  margin-left:8px;
  padding:6px 12px;
  border-radius:999px;
  border:1px solid rgba(124,58,237,.35);
  background:rgba(124,58,237,.10);
  position:relative;
  overflow:hidden;
}
.codename::before,
.codename::after{
  content:attr(data-text);
  position:absolute;
  left:0; top:0; width:100%;
  pointer-events:none;
  opacity:.85;
}
.codename::before{
  transform:translate(1px,-1px);
  color:rgba(214,31,44,.75);
  clip-path:inset(0 0 55% 0);
  animation: glitchTop 1.8s infinite steps(2);
}
.codename::after{
  transform:translate(-1px,1px);
  color:rgba(124,58,237,.75);
  clip-path:inset(55% 0 0 0);
  animation: glitchBot 1.2s infinite steps(2);
}
@keyframes glitchTop{
  0%,100%{ transform:translate(1px,-1px); }
  50%{ transform:translate(2px,0); }
}
@keyframes glitchBot{
  0%,100%{ transform:translate(-1px,1px); }
  50%{ transform:translate(-2px,0); }
}
.legal{ opacity:.70; }

/* Folder inside: tabs + book */
.folder-inside{
  display:grid;
  grid-template-columns: 110px 1fr 110px;
  gap:12px;
  padding: 10px 12px 16px;
  align-items:stretch;
}

/* Tabs */
.tabs{
  border-radius:18px;
  background:rgba(0,0,0,.06);
  border:1px solid rgba(0,0,0,.10);
  padding:10px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.tabs-title{
  letter-spacing:.18em;
  font-weight:900;
  font-size:11px;
  opacity:.75;
}
.tabs-list{
  display:flex;
  flex-direction:column;
  gap:10px;
}

/* Each tab button */
.tab-btn{
  width:100%;
  cursor:pointer;
  border-radius:14px;
  border:1px solid rgba(0,0,0,.14);
  padding:10px 8px;
  background:rgba(255,255,255,.35);
  text-align:left;
  transition: transform .15s ease, box-shadow .15s ease;
  position:relative;
}
.tab-btn:hover{ transform:translateY(-1px); box-shadow:0 14px 28px rgba(0,0,0,.14); }
.tab-btn.active{
  border-color: rgba(124,58,237,.35);
  box-shadow:0 0 0 4px rgba(124,58,237,.14);
}
.tab-label{
  display:block;
  font-family:var(--mono);
  font-size:11px;
  letter-spacing:.10em;
}

/* Tab color strip (makes tabs “not boring”) */
.tab-color{
  position:absolute;
  left:8px; right:8px; bottom:6px;
  height:6px;
  border-radius:999px;
  opacity:.75;
}
.tab-red{ background:rgba(214,31,44,.75); }
.tab-blue{ background:rgba(37,99,235,.70); }
.tab-purple{ background:rgba(124,58,237,.70); }
.tab-green{ background:rgba(22,163,74,.65); }
.tab-olive{ background:rgba(77,124,15,.65); }
.tab-gray{ background:rgba(17,17,20,.35); }

/* Book (pages) */
.book{
  border-radius:20px;
  position:relative;
  min-height:620px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
}

/* Page styling */
.page{
  border-radius:18px;
  background:linear-gradient(180deg, var(--paper), var(--paperDeep));
  border:1px solid rgba(0,0,0,.14);
  box-shadow:var(--paperShadow);
  position:relative;
  overflow:hidden;
}
.page-inner{
  padding:16px;
}
.page-top{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
}
.badge{
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(0,0,0,.12);
  background:rgba(0,0,0,.03);
  letter-spacing:.10em;
  font-size:12px;
}
.badge-purple{
  border-color: rgba(124,58,237,.28);
  background: rgba(124,58,237,.08);
}
.page-id{
  opacity:.70;
  letter-spacing:.10em;
  font-size:12px;
}
.page-title{
  margin:14px 0 10px;
  font-size:22px;
  letter-spacing:.04em;
}
.page-body{
  line-height:1.55;
  font-size:13px;
  color:rgba(16,16,20,.85);
}
.page-body .doc{
  display:block;
  margin-top:12px;
  padding:12px;
  border-radius:16px;
  border:1px solid rgba(0,0,0,.12);
  background:rgba(0,0,0,.03);
  cursor:pointer;
  transition: transform .15s ease, box-shadow .15s ease;
}
.page-body .doc:hover{
  transform:translateY(-1px);
  box-shadow:0 14px 40px rgba(0,0,0,.14);
  border-color:rgba(124,58,237,.28);
}
.page-controls{
  display:flex;
  justify-content:space-between;
  gap:10px;
  margin-top:14px;
}

/* FLIP SHEET (actual page turn)
   This sheet sits on top of the right page and rotates like paper. */
.flip-sheet{
  position:absolute;
  inset:0;
  transform-origin: left center;
  background:linear-gradient(180deg, var(--paper), var(--paperDeep));
  border-left:1px solid rgba(0,0,0,.10);
  box-shadow: 0 18px 60px rgba(0,0,0,.18);
  backface-visibility:hidden;
  transform: rotateY(0deg);
  pointer-events:none;
  opacity:0;
}
.flip-sheet.active{
  opacity:1;
}

/* Flip forward animation */
.flip-forward{
  animation: flipForward 720ms ease forwards;
}
@keyframes flipForward{
  0%{ transform: rotateY(0deg); }
  45%{ transform: rotateY(-95deg); }
  100%{ transform: rotateY(-180deg); }
}

/* Flip backward animation */
.flip-back{
  transform-origin: right center;
  animation: flipBack 720ms ease forwards;
}
@keyframes flipBack{
  0%{ transform: rotateY(0deg); }
  45%{ transform: rotateY(95deg); }
  100%{ transform: rotateY(180deg); }
}

/* ============================================================
  SCAN OVERLAY
============================================================ */
.scan{
  position:fixed; inset:0;
  z-index:9996;
  background:rgba(0,0,0,.55);
  backdrop-filter: blur(8px);
  display:grid;
  place-items:center;
  overflow:hidden;
}
.scan-lines{
  position:absolute; inset:0;
  background:repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,.06),
    rgba(255,255,255,.06) 1px,
    rgba(0,0,0,0) 4px,
    rgba(0,0,0,0) 9px
  );
  opacity:.55;
  animation: scanMove 800ms linear infinite;
}
.scan-noise{
  position:absolute; inset:-40px;
  background-image: radial-gradient(rgba(255,255,255,.08) 1px, transparent 1px);
  background-size:4px 4px;
  opacity:.10;
}
.scan-card{
  position:relative;
  padding:14px 16px;
  border-radius:16px;
  background:rgba(247,238,219,.92);
  border:1px solid rgba(0,0,0,.16);
  box-shadow:0 18px 60px rgba(0,0,0,.35);
  letter-spacing:.12em;
  text-transform:uppercase;
}

/* ============================================================
  STAMP TOOL OVERLAY (cinematic “tool comes down”)
============================================================ */
.stamp-overlay{
  position:fixed; inset:0;
  z-index:9997;
  display:grid;
  place-items:center;
  background:rgba(0,0,0,.35);
  backdrop-filter: blur(6px);
}
.stamp-tool{
  width:240px;
  height:240px;
  border-radius:26px;
  background:rgba(214,31,44,.10);
  border:2px solid rgba(214,31,44,.55);
  box-shadow:0 30px 90px rgba(0,0,0,.35);
  animation: stampDrop 520ms ease forwards;
}
@keyframes stampDrop{
  from{ transform:translateY(-220px) rotate(-4deg); }
  to{ transform:translateY(0) rotate(0deg); }
}
.stamp-hit{
  margin-top:16px;
  padding:10px 14px;
  border-radius:999px;
  border:2px solid rgba(22,163,74,.55);
  background:rgba(22,163,74,.10);
  color:rgba(22,163,74,.95);
  letter-spacing:.18em;
  font-weight:900;
}

/* ============================================================
  MODAL (clickable docs)
============================================================ */
.modal{
  position:fixed; inset:0;
  z-index:9998;
  display:grid;
  place-items:center;
  padding:18px;
}
.modal-backdrop{
  position:absolute; inset:0;
  background:rgba(0,0,0,.65);
  backdrop-filter: blur(10px);
}
.modal-box{
  position:relative;
  width:min(780px, 92vw);
  max-height:78vh;
  overflow:auto;
  border-radius:22px;
  background:linear-gradient(180deg, var(--paper), var(--paperDeep));
  border:1px solid rgba(0,0,0,.16);
  box-shadow:0 30px 90px rgba(0,0,0,.45);
  padding:16px;
}
.modal-top{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  border-bottom:1px solid rgba(0,0,0,.12);
  padding-bottom:10px;
  margin-bottom:12px;
}
.modal-title{
  font-weight:900;
  letter-spacing:.14em;
}
.modal-close{
  cursor:pointer;
  border-radius:14px;
  border:1px solid rgba(0,0,0,.16);
  background:rgba(0,0,0,.06);
  padding:8px 10px;
}

/* ============================================================
  TOAST
============================================================ */
.toast{
  position:fixed;
  left:50%;
  bottom:16px;
  transform:translateX(-50%);
  z-index:9999;
  opacity:0;
  pointer-events:none;
  padding:12px 14px;
  border-radius:16px;
  background:rgba(247,238,219,.92);
  border:1px solid rgba(0,0,0,.16);
  box-shadow:0 18px 60px rgba(0,0,0,.35);
  transition:opacity .2s ease, transform .2s ease;
}
.toast.show{
  opacity:1;
  transform:translateX(-50%) translateY(-2px);
}

/* ============================================================
  MOBILE
============================================================ */
@media (max-width: 980px){
  .folder-inside{
    grid-template-columns: 1fr;
  }
  .tabs{
    flex-direction:row;
    align-items:center;
    overflow:auto;
  }
  .tabs-list{
    flex-direction:row;
  }
  .book{
    grid-template-columns: 1fr;
  }
}